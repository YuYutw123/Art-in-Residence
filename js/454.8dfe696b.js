"use strict";(self["webpackChunkart_in_residence"]=self["webpackChunkart_in_residence"]||[]).push([[454],{50:function(e,o,i){i.r(o),i.d(o,{default:function(){return j}});var t=i(641),s=i.p+"media/video19.dafcad4f.mp4",n=i.p+"media/video20.82c58c15.mp4",a=i.p+"media/video21.97f4f1bb.mp4";const r=e=>((0,t.Qi)("data-v-2ebb99f2"),e=e(),(0,t.jt)(),e),d={class:"warp"},l={class:"container"},c={class:"video-wrapper"},v={ref:"video1",id:"my-video-1",class:"video-play video-js aos-init aos-animate","data-aos":"fade-in",controls:"",muted:"",playsinline:"",loop:"",preload:"auto"},u=r((()=>(0,t.Lk)("source",{src:s,type:"video/mp4"},null,-1))),p=[u],h={class:"video-wrapper"},m={ref:"video2",id:"my-video-2",class:"video-play video-js aos-init aos-animate","data-aos":"fade-in",controls:"",muted:"",playsinline:"",loop:"",preload:"auto"},f=r((()=>(0,t.Lk)("source",{src:n,type:"video/mp4"},null,-1))),b=[f],w={class:"video-wrapper"},k={ref:"video3",id:"my-video-3",class:"video-play video-js aos-init aos-animate","data-aos":"fade-in",controls:"",muted:"",playsinline:"",loop:"",preload:"auto"},g=r((()=>(0,t.Lk)("source",{src:a,type:"video/mp4"},null,-1))),L=[g],y={class:"container"},T={class:"row"},$={class:"row d-flex justify-content-center"},S=r((()=>(0,t.Lk)("footer",{class:"mt-5"},[(0,t.Lk)("div",{class:"container"},[(0,t.Lk)("div",{class:"row"},[(0,t.Lk)("p",{class:"text-center"},"©2024 八斗故事村")])])],-1)));function C(e,o,i,s,n,a){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",d,[(0,t.Lk)("div",l,[(0,t.Lk)("div",c,[(0,t.Lk)("video",v,p,512)]),(0,t.Lk)("div",h,[(0,t.Lk)("video",m,b,512)]),(0,t.Lk)("div",w,[(0,t.Lk)("video",k,L,512)])]),(0,t.Lk)("div",y,[(0,t.Lk)("div",T,[(0,t.Lk)("div",$,[(0,t.Lk)("button",{type:"button",class:"next-btn",onClick:o[0]||(o[0]=e=>a.goToTargetPage(4))},"去下一關！")])])])]),S],64)}i(4114);var I={name:"NavbarComponent",props:{activePage:{type:Number,required:!0}},data(){return{activePageNum:0,lastScrollTop:0,debounceTimeout:null,debounceDelay:50}},mounted(){this.setupIntersectionObserver(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{goToTargetPage(e){this.$emit("updatePageIndex",e),this.activePageNum=e,this.$router.push({name:"SubPage"+e}),localStorage.setItem("var4",!0)},setupIntersectionObserver(){const e={root:null,rootMargin:"0px",threshold:.5},o=e=>{e.forEach((e=>{const o=e.target;e.isIntersecting?o.play():o.pause()}))},i=new IntersectionObserver(o,e);this.$refs.video1&&i.observe(this.$refs.video1),this.$refs.video2&&i.observe(this.$refs.video2),this.$refs.video3&&i.observe(this.$refs.video3)},handleScroll(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((()=>{const e=window.scrollY||document.documentElement.scrollTop;e>this.lastScrollTop?this.positionVideo("down"):e<this.lastScrollTop&&this.positionVideo("up"),this.lastScrollTop=e<=0?0:e}),this.debounceDelay)},positionVideo(e){const o=[this.$refs.video1,this.$refs.video2],i=window.innerHeight;let t=null;for(let s of o)if(s){const e=s.getBoundingClientRect();if(e.top<=i&&e.bottom>=0){t=s;break}}if(t){let o=null;if("down"===e?o=t===this.$refs.video1?this.$refs.video2:null:"up"===e&&(o=t===this.$refs.video2?this.$refs.video1:null),o){const e=o.getBoundingClientRect(),t=window.scrollY+e.top-i/2+e.height/2,s=1e3,n=Math.abs(t-window.scrollY),a=Math.min(n,s);window.scrollTo({top:window.scrollY+(t>window.scrollY?a:-a),behavior:"smooth"})}}}}},P=i(6262);const _=(0,P.A)(I,[["render",C],["__scopeId","data-v-2ebb99f2"]]);var j=_}}]);
//# sourceMappingURL=454.8dfe696b.js.map